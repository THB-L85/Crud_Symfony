{% extends 'base.html.twig' %}

{% block title %}Catálogo de Productos{% endblock %}

{% block body %}
<div class="row mt-5 mb-3">
    <div class="col d-flex align-items-center">
        <h1>Catálogo de Productos</h1>
        {# Este boton es para agregar un producto nuevo #}
        <a href="{{ path('crud_add') }}" class="btn btn-primary ms-auto">
            Agregar
            <i class="bi bi-plus-circle" style="margin-left: 8px;"></i>
        </a>
        {# Este boton es para la exportacion a excel #}
        <button id="exportButton" class="btn btn-success mx-2">
        Exportar a Excel
        <i class="bi bi-file-earmark-spreadsheet" style="margin-left: 8px;"></i>
        </button>
    </div>
</div>
{# Inicia la tabla de los productos #}
<div class="table-responsive">
    <table id="myTable" class="table table-bordered table-hover display">
        <thead>
            <tr>
                <th class="text-center">ID Producto</th>
                <th class="text-center">Clave Producto</th>
                <th class="text-center">Nombre</th>
                <th class="text-center">Precio</th>
                <th class="text-center">Acciones</th>
            </tr>
        </thead>
        <tbody>
            {% if (productos|length) > 0 %}
            {% for item in productos %}
            <tr>
                <td class="text-center">{{ item.id_producto }}</td>
                <td class="text-center">{{ item.clave_producto }}</td>
                <td class="text-center">{{ item.nombre }}</td>
                <td class="text-center">${{ item.precio }}</td>
                <td class="text-center">
                    <a href="{{ path('crud_update', {id: item.id_producto}) }}" class="btn btn-warning">
                        <i class="bi bi-pencil-square"></i>
                    </a>
                    <a href="javascript:void(0)" class="btn btn-danger"
                        data-pregunta="¿Estás seguro de eliminar el producto?"
                        data-ruta="{{ path('crud_delete', { id: item.id_producto }) }}">
                        <i class="bi bi-trash3"></i>
                    </a>
                </td>
            </tr>
            {% endfor %}
            {% endif %}
        </tbody>
    </table>
</div>

{% endblock %}